import{r as S}from"./index-b996fa11.js";import{g as C,a as A}from"./request-d135d996.js";import{ai as F,e as u,aj as U,af as E,a6 as O}from"./@ant-design-79c5b16b.js";import{d as k,r as q,f as w,t as B,a0 as L,c as e,u as r,X as t,F as N,_ as R,Y as s,Z as V,I as T}from"./@vue-f4549c4f.js";import{n as g}from"./ant-design-vue-bdf622a3.js";import"./pinia-6e7a6e83.js";import"./vue-router-7a2dbc5b.js";import"./@babel-9393a256.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-c0b5c018.js";import"./@ctrl-fb5a5473.js";import"./stylis-af24efd6.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-46efcfe4.js";import"./dayjs-bea8cda3.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./axios-602dd91c.js";import"./axios-4a70c6fc.js";const j=()=>C({url:"api/v1/siteinfo"}),H=d=>A({url:"api/v1/siteinfo",data:d}),f={getSiteInfoApi:j,editSiteInfoApi:H},P=R("br",null,null,-1),me=k({__name:"CA_SiteInfoEdit",setup(d){const _=q(),a=w({sitename:"",slogan:"",logourl:"",blogger:""});f.getSiteInfoApi().then(n=>{a.sitename=n.data.data[0].sitename,a.slogan=n.data.data[0].slogan,a.logourl=n.data.data[0].logourl,a.blogger=n.data.data[0].blogger});const c={sitename:[{required:!0,message:"请输入网站名称",trigger:"change"}],slogan:[{required:!0,message:"请输入网站标语",trigger:"change"}],logourl:[{required:!0,message:"请输入LogoUrl",trigger:"change"},{type:"url",message:"Type url",trigger:"blur"}],blogger:[{required:!0,message:"请输入博主",trigger:"change"}]},x=n=>{f.editSiteInfoApi(n).then(o=>{console.log(o.data),o.data.status!=200&&g.error({message:"Error",description:o.data.message}),o.data.status==200&&g.success({message:"Success",description:"更新网站信息成功！"})})},v=()=>{g.warn({message:"Warn",description:"请勿提交非法数据！"})};return B(a),(n,o)=>{const y=s("a-page-header"),m=s("a-tooltip"),p=s("a-input"),l=s("a-form-item"),b=s("a-button"),I=s("a-form"),h=s("a-card");return V(),L(N,null,[e(y,{style:{border:"1px solid rgb(235, 237, 240)"},title:"网站设置",onBack:o[0]||(o[0]=()=>r(S).push("Index"))}),P,e(h,{class:"form-center-1"},{default:t(()=>[e(I,{ref_key:"formRef",ref:_,model:a,rules:c,class:"form-center-2",name:"SiteInfoEditForm",onFinish:x,onFinishFailed:v},{default:t(()=>[e(l,{name:"sitename"},{default:t(()=>[e(p,{value:a.sitename,"onUpdate:value":o[1]||(o[1]=i=>a.sitename=i),placeholder:"网站名称"},{prefix:t(()=>[e(r(F))]),suffix:t(()=>[e(m,{title:"输入网站名称"},{default:t(()=>[e(r(u),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(l,{name:"slogan",style:{"margin-top":"10px"}},{default:t(()=>[e(p,{value:a.slogan,"onUpdate:value":o[2]||(o[2]=i=>a.slogan=i),placeholder:"网站标语",style:{"margin-top":"10px"}},{prefix:t(()=>[e(r(U))]),suffix:t(()=>[e(m,{title:"输入网站标语"},{default:t(()=>[e(r(u),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(l,{name:"logourl",style:{"margin-top":"10px"}},{default:t(()=>[e(p,{value:a.logourl,"onUpdate:value":o[3]||(o[3]=i=>a.logourl=i),placeholder:"Logo外链",style:{"margin-top":"10px"}},{prefix:t(()=>[e(r(E))]),suffix:t(()=>[e(m,{title:"输入Logo外链"},{default:t(()=>[e(r(u),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(l,{name:"blogger",style:{"margin-top":"10px"}},{default:t(()=>[e(p,{value:a.blogger,"onUpdate:value":o[4]||(o[4]=i=>a.blogger=i),placeholder:"博主"},{prefix:t(()=>[e(r(O))]),_:1},8,["value"])]),_:1}),e(l,{"wrapper-col":{span:10,offset:10},style:{"margin-top":"10px"}},{default:t(()=>[e(b,{"html-type":"submit",type:"primary"},{default:t(()=>[T("更新")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64)}}});export{me as default};
