import{r as C}from"./index-6a480b5c.js";import{g as k,a as A}from"./request-b9cb8a26.js";import{d as B,r as F,f as E,t as L,a0 as Q,c as e,u,X as o,F as T,_ as p,Y as d,Z as w,I as N}from"./@vue-ed0e62b5.js";import{e as f}from"./@ant-design-4a0ad1b8.js";import{n as _}from"./ant-design-vue-ff946531.js";import"./pinia-ae91085a.js";import"./vue-router-1948c3ab.js";import"./@babel-9393a256.js";import"./resize-observer-polyfill-3d106987.js";import"./@emotion-c0b5c018.js";import"./@ctrl-fb5a5473.js";import"./stylis-af24efd6.js";import"./scroll-into-view-if-needed-6b992d05.js";import"./compute-scroll-into-view-183f845a.js";import"./vue-types-ef06c517.js";import"./dom-align-529d0cdc.js";import"./lodash-es-46efcfe4.js";import"./dayjs-bea8cda3.js";import"./async-validator-dee29e8b.js";import"./throttle-debounce-87e7e444.js";import"./axios-8b100baf.js";import"./axios-4a70c6fc.js";const R=()=>k({url:"api/v1/siteinfo"}),V=g=>A({url:"api/v1/siteinfo",data:g}),c={getSiteInfoApi:R,editSiteInfoApi:V},G=p("br",null,null,-1),H={class:"form-center-2"},P={class:"form-center-2"},O={class:"form-center-2"},fe=B({__name:"CA_SiteInfoEdit",setup(g){const b=F(),a=E({sitename:"",slogan:"",logourl:"",blogger:"",cardinfo_qq:"",cardinfo_github:"",cardinfo_afdian:"",icpnum1:"",icpnum2:"",footer_siteyear:""});c.getSiteInfoApi().then(l=>{a.sitename=l.data.data[0].sitename,a.slogan=l.data.data[0].slogan,a.logourl=l.data.data[0].logourl,a.blogger=l.data.data[0].blogger,a.cardinfo_qq=l.data.data[0].cardinfo_qq,a.cardinfo_github=l.data.data[0].cardinfo_github,a.cardinfo_afdian=l.data.data[0].cardinfo_afdian,a.icpnum1=l.data.data[0].icpnum1,a.icpnum2=l.data.data[0].icpnum2,a.footer_siteyear=l.data.data[0].footer_siteyear});const v={sitename:[{required:!0,message:"请输入网站名称",trigger:"change"}],slogan:[{required:!0,message:"请输入网站标语",trigger:"change"}],logourl:[{required:!0,message:"请输入LogoUrl",trigger:"change"},{type:"url",message:"Type url",trigger:"blur"}],blogger:[{required:!0,message:"请输入博主",trigger:"change"}]},y=l=>{c.editSiteInfoApi(l).then(t=>{t.data.status!=200&&_.error({message:"Error",description:t.data.message}),t.data.status==200&&_.success({message:"Success",description:"更新网站信息成功！"})})},q=()=>{_.warn({message:"Warn",description:"请勿提交非法数据！"})};return L(a),(l,t)=>{const I=d("a-page-header"),s=d("a-tooltip"),i=d("a-input"),r=d("a-form-item"),m=d("a-tab-pane"),U=d("a-tabs"),h=d("a-button"),x=d("a-form"),S=d("a-card");return w(),Q(T,null,[e(I,{style:{border:"1px solid rgb(235, 237, 240)"},title:"网站设置",onBack:t[0]||(t[0]=()=>u(C).push("Index"))}),G,e(S,{class:"form-center-1"},{default:o(()=>[e(x,{ref_key:"formRef",ref:b,model:a,rules:v,name:"SiteInfoEditForm",onFinish:y,onFinishFailed:q},{default:o(()=>[e(U,{centered:""},{default:o(()=>[e(m,{key:"1","force-render":"",tab:"全局设置"},{default:o(()=>[p("div",H,[e(r,{label:"网站名称",name:"sitename"},{default:o(()=>[e(i,{value:a.sitename,"onUpdate:value":t[1]||(t[1]=n=>a.sitename=n),placeholder:"网站名称"},{suffix:o(()=>[e(s,{title:"输入网站名称"},{default:o(()=>[e(u(f),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1})])]),_:1}),e(m,{key:"2",tab:"首页信息卡片设置"},{default:o(()=>[p("div",P,[e(r,{label:"博主名称",name:"blogger"},{default:o(()=>[e(i,{value:a.blogger,"onUpdate:value":t[2]||(t[2]=n=>a.blogger=n),placeholder:"博主"},{suffix:o(()=>[e(s,{title:"输入博主名称"},{default:o(()=>[e(u(f),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(r,{label:"网站标语",name:"slogan"},{default:o(()=>[e(i,{value:a.slogan,"onUpdate:value":t[3]||(t[3]=n=>a.slogan=n),placeholder:"网站标语"},{suffix:o(()=>[e(s,{title:"输入网站标语"},{default:o(()=>[e(u(f),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(r,{label:"网站Logo",name:"logourl"},{default:o(()=>[e(i,{value:a.logourl,"onUpdate:value":t[4]||(t[4]=n=>a.logourl=n),placeholder:"Logo外链"},{suffix:o(()=>[e(s,{title:"输入Logo外链"},{default:o(()=>[e(u(f),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1})]),_:1},8,["value"])]),_:1}),e(r,{label:"QQ",name:"cardinfo_qq"},{default:o(()=>[e(i,{value:a.cardinfo_qq,"onUpdate:value":t[5]||(t[5]=n=>a.cardinfo_qq=n),placeholder:"QQ"},null,8,["value"])]),_:1}),e(r,{label:"GITHUB",name:"cardinfo_github"},{default:o(()=>[e(i,{value:a.cardinfo_github,"onUpdate:value":t[6]||(t[6]=n=>a.cardinfo_github=n),placeholder:"GITHUB"},null,8,["value"])]),_:1}),e(r,{label:"爱发电",name:"cardinfo_afdian"},{default:o(()=>[e(i,{value:a.cardinfo_afdian,"onUpdate:value":t[7]||(t[7]=n=>a.cardinfo_afdian=n),placeholder:"爱发电"},null,8,["value"])]),_:1})])]),_:1}),e(m,{key:"3",tab:"页脚设置"},{default:o(()=>[p("div",O,[e(r,{label:"ICP备案号",name:"icpnum1"},{default:o(()=>[e(i,{value:a.icpnum1,"onUpdate:value":t[8]||(t[8]=n=>a.icpnum1=n),placeholder:"ICP备案号"},null,8,["value"])]),_:1}),e(r,{label:"公安备案号",name:"icpnum2"},{default:o(()=>[e(i,{value:a.icpnum2,"onUpdate:value":t[9]||(t[9]=n=>a.icpnum2=n),placeholder:"公安备案号"},null,8,["value"])]),_:1}),e(r,{label:"建站年份",name:"footer_siteyear"},{default:o(()=>[e(i,{value:a.footer_siteyear,"onUpdate:value":t[10]||(t[10]=n=>a.footer_siteyear=n),placeholder:"建站年份"},null,8,["value"])]),_:1})])]),_:1})]),_:1}),e(r,{"wrapper-col":{span:10,offset:10},style:{"margin-top":"10px"}},{default:o(()=>[e(h,{"html-type":"submit",type:"primary"},{default:o(()=>[N("更新")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})],64)}}});export{fe as default};
