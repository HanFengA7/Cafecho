var V="comm",W="rule",X="decl",y="@import",rr="@keyframes",er=Math.abs,B=String.fromCharCode;function Z(r){return r.trim()}function D(r,e,c){return r.replace(e,c)}function ar(r,e){return r.indexOf(e)}function S(r,e){return r.charCodeAt(e)|0}function z(r,e,c){return r.slice(e,c)}function m(r){return r.length}function _(r){return r.length}function N(r,e){return e.push(r),r}var P=1,R=1,$=0,o=0,n=0,T="";function G(r,e,c,t,i,l,M){return{value:r,root:e,parent:c,type:t,props:i,children:l,line:P,column:R,length:M,return:""}}function cr(){return n}function nr(){return n=o>0?S(T,--o):0,R--,n===10&&(R=1,P--),n}function h(){return n=o<$?S(T,o++):0,R++,n===10&&(R=1,P++),n}function C(){return S(T,o)}function F(){return o}function U(r,e){return z(T,r,e)}function j(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tr(r){return P=R=1,$=m(T=r),o=0,[]}function ir(r){return T="",r}function Y(r){return Z(U(o-1,q(r===91?r+2:r===40?r+1:r)))}function sr(r){for(;(n=C())&&n<33;)h();return j(r)>2||j(n)>3?"":" "}function ur(r,e){for(;--e&&h()&&!(n<48||n>102||n>57&&n<65||n>70&&n<97););return U(r,F()+(e<6&&C()==32&&h()==32))}function q(r){for(;h();)switch(n){case r:return o;case 34:case 39:r!==34&&r!==39&&q(n);break;case 40:r===41&&q(r);break;case 92:h();break}return o}function fr(r,e){for(;h()&&r+n!==47+10;)if(r+n===42+42&&C()===47)break;return"/*"+U(e,o-1)+"*"+B(r===47?r:h())}function or(r){for(;!j(C());)h();return U(r,o)}function hr(r){return ir(K("",null,null,null,[""],r=tr(r),0,[0],r))}function K(r,e,c,t,i,l,M,k,x){for(var A=0,w=0,s=M,p=0,O=0,d=0,v=1,I=1,f=1,u=0,g="",L=i,E=l,b=t,a=g;I;)switch(d=u,u=h()){case 40:if(d!=108&&S(a,s-1)==58){ar(a+=D(Y(u),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:a+=Y(u);break;case 9:case 10:case 13:case 32:a+=sr(d);break;case 92:a+=ur(F()-1,7);continue;case 47:switch(C()){case 42:case 47:N(vr(fr(h(),F()),e,c),x);break;default:a+="/"}break;case 123*v:k[A++]=m(a)*f;case 125*v:case 59:case 0:switch(u){case 0:case 125:I=0;case 59+w:f==-1&&(a=D(a,/\f/g,"")),O>0&&m(a)-s&&N(O>32?J(a+";",t,c,s-1):J(D(a," ","")+";",t,c,s-2),x);break;case 59:a+=";";default:if(N(b=H(a,e,c,A,w,i,k,g,L=[],E=[],s),l),u===123)if(w===0)K(a,e,b,b,L,l,s,k,E);else switch(p===99&&S(a,3)===110?100:p){case 100:case 109:case 115:K(r,b,b,t&&N(H(r,b,b,0,0,i,k,g,i,L=[],s),E),i,E,s,k,t?L:E);break;default:K(a,b,b,b,[""],E,0,k,E)}}A=w=O=0,v=f=1,g=a="",s=M;break;case 58:s=1+m(a),O=d;default:if(v<1){if(u==123)--v;else if(u==125&&v++==0&&nr()==125)continue}switch(a+=B(u),u*v){case 38:f=w>0?1:(a+="\f",-1);break;case 44:k[A++]=(m(a)-1)*f,f=1;break;case 64:C()===45&&(a+=Y(h())),p=C(),w=s=m(g=a+=or(F())),u++;break;case 45:d===45&&m(a)==2&&(v=0)}}return l}function H(r,e,c,t,i,l,M,k,x,A,w){for(var s=i-1,p=i===0?l:[""],O=_(p),d=0,v=0,I=0;d<t;++d)for(var f=0,u=z(r,s+1,s=er(v=M[d])),g=r;f<O;++f)(g=Z(v>0?p[f]+" "+u:D(u,/&\f/g,p[f])))&&(x[I++]=g);return G(r,e,c,i===0?W:k,x,A,w)}function vr(r,e,c){return G(r,e,c,V,B(cr()),z(r,2,-2),0)}function J(r,e,c,t){return G(r,e,c,X,z(r,0,t),z(r,t+1,-1),t)}function Q(r,e){for(var c="",t=_(r),i=0;i<t;i++)c+=e(r[i],i,r,e)||"";return c}function br(r,e,c,t){switch(r.type){case y:case X:return r.return=r.return||r.value;case V:return"";case rr:return r.return=r.value+"{"+Q(r.children,t)+"}";case W:r.value=r.props.join(",")}return m(c=Q(r.children,t))?r.return=r.value+"{"+c+"}":""}export{br as a,hr as c,Q as s};
